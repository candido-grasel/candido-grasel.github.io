<!DOCTYPE>

<html>

 

<head>

  <meta charset="UTF-8">

  <meta http-equiv="Cache-Control" content="no-cache" />

  <meta http-equiv="Pragma" content="no-cache" />

  <meta http-equiv="X-UA-Compatible" content="IE=11">

  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>E-commerce Getnet</title>

</head>

 

<button class="pagamento">Realizar Pagamento</button>

 

<script>

  var tagbody = document.body,

  tagscript = document.createElement('script');

 

  function insertScript(token) {

  tagbody.appendChild(tagscript);

 

  tagscript.setAttribute('data-getnet-sellerid', 'c459f6ee-fedb-4289-b023-af5e2b3d54df');

  tagscript.setAttribute('data-getnet-token', token);

  tagscript.setAttribute('data-getnet-amount', '1.00');

  tagscript.setAttribute('data-getnet-customerid', '875968');

  tagscript.setAttribute('data-getnet-orderid', 'ecc4c42e-164c-41a3-a304-48364c37193b');

  tagscript.setAttribute('data-getnet-button-class', 'pagamento');

  tagscript.setAttribute('data-getnet-installments', '1');

  tagscript.setAttribute('data-getnet-customer-first-name', 'Eriberto');

  tagscript.setAttribute('data-getnet-customer-last-name', ' da Silva Araujo');

  tagscript.setAttribute('data-getnet-customer-document-type', 'CPF');

  tagscript.setAttribute('data-getnet-customer-document-number', '03453123840');

  tagscript.setAttribute('data-getnet-customer-email', 'rvaraujo.sp@gmail.com');

  tagscript.setAttribute('data-getnet-customer-phone-number', '8532635052');

  tagscript.setAttribute('data-getnet-customer-address-street', 'Avenida Cesar Cals');

  tagscript.setAttribute('data-getnet-customer-address-street-number', '350');

  tagscript.setAttribute('data-getnet-customer-address-complementary', 'AP 304');

  tagscript.setAttribute('data-getnet-customer-address-neighborhood', 'Praia do Futuro');

  tagscript.setAttribute('data-getnet-customer-address-city', 'Fortaleza');

  tagscript.setAttribute('data-getnet-customer-address-state', 'Ceará');

 tagscript.setAttribute('data-getnet-customer-address-zipcode', '60182005');

  tagscript.setAttribute('data-getnet-customer-country', 'Brasil');

  tagscript.setAttribute('data-getnet-shipping-address', '[{"first_name":"Eriberto","name":"Eriberto da Silva Araujo","email":"rvaraujo.sp@gmail.com","phone_number":"8532635052","shipping_amount":0,"address":{"street":"Avenida Cesar Cals","complement":"AP 304","number":"350","district":"Praia do Futuro","city":"Fortaleza","state":"Ceará","country":"Brasil","postal_code":"60182005"}}]');

  tagscript.setAttribute('data-getnet-items', '[{"name": "","description": "", "value": 0, "quantity": 0,"sku": ""}]');

  tagscript.setAttribute('data-getnet-url-callback', '');

 

  tagscript.src = "https://checkout.getnet.com.br/loader.js";

}

 

  var data = "scope=oob&grant_type=client_credentials",

  bodyresponse,

  base64,

  xhr = new XMLHttpRequest();

 

  xhr.addEventListener("readystatechange", function () {

  if (this.readyState === 4) {

  bodyresponse = JSON.parse(this.responseText);

  token = bodyresponse.token_type + ' ' + bodyresponse.access_token;

  insertScript(token);

  console.log(bodyresponse);

  }

});
